<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>üçÖ  25:00</title>
    <style>

      .counter {
        font-size: 240px;
        font-family: monospace, monospace;
      }
    </style>
    <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css" rel="stylesheet">
  </head>
  <body>
    <div class="container well-lg">
      <div class="panel panel-default">
        <div class='panel-heading finished'>Pomodoro Timer </div>
        <div class="panel-body">
          <div class="counter text-center">25:00</div>
          <hr>
          <div class="btn-group pull-right">
            <button class="stop btn btn-default">Break</button>
            <button class="start btn btn-default btn-primary">Start new one</button>
          </div>
        </div>
      </div>
    </div>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
  <script>
    // –ó–¥–µ—Å—å —É–∂–µ –Ω–µ –æ—á–µ–Ω—å –ø–æ–Ω—è—Ç–Ω–æ, —á—Ç–æ –ø–æ–∏—Å—Ö–æ–¥–∏—Ç. –ù–µ—Ç –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏—è,
    // —Ö–∞–æ—Ç–∏—á–Ω–æ —á—Ç–æ-—Ç–æ –≤—ã–Ω–æ—Å–∏—Ç—Å—è –≤ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.
    // –î—É–º–∞—é, —ç—Ç–æ –∫–∞–∫ —Ä–∞–∑ —Ç–æ—Ç –º–æ–º–µ–Ω—Ç, –∫–æ–≥–¥–∞ –ª—É—á—à–µ –≤—Å–µ–≥–æ –ø–µ—Ä–µ–π—Ç–∏ –∫ MVC
    // –∏ –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏—é
    var iconPomodoro = '&#127813;';
    var iconBreak = '&#128128;';
    $(function() {
      var session = 25 * 60;
      var counter = session;
      var timer = 0;
      $('.stop').on('click', function() {
        if (counter === session) { return; }
        clearTimeout(timer);
        counter = session;
        $('.finished').append(iconBreak);
        updateView(counter);
      });
      $('.start').on('click', function countdown() {
        if (--counter) {
          timer = setTimeout(countdown, 1000);
        } else {
        $('.finished').append(iconPomodoro);
          counter = session;
          alert('Done');
        }
        updateView(counter);
      });
    });
    function updateView (counter) {
      var minutes = parseInt(counter/60);
      var seconds = counter - (minutes * 60);
      if (minutes < 10) { minutes = "0" + minutes.toString(); }
      if (seconds < 10) { seconds = "0" + seconds.toString(); }
      var time = minutes + ":" + seconds;
      $('.counter').text(time);
      document.title = 'üçÖ ' + time;
    }
  </script>
  </body>
</html>
